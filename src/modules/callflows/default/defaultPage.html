<div class="page">

    <form class="panel" name="defaultForm">
    	<!-- {{default}} -->
        <!--<div class="panel-heading"><strong>Domain: {{domain.name}}</strong></div>-->
        <div class="panel-body" style="position: relative;">

            <div class="row">

            	<div class="col-sm-12">

					<div class="col-sm-4">
						<div class="form-group" ng-class="{ 'has-error' : defaultForm.name.$invalid }">
							<label class="control-label">Name</label>
							<input type="text" required class="form-control" name="name"  placeholder="Name" ng-model="default.name">
						</div>
					</div>

					<div class="col-sm-4">
						<div class="form-group" ng-class="{ 'has-error' : defaultForm.number.$invalid }">
							<label class="control-label">Number</label>
							<input type="text" required class="form-control" name="number" placeholder="Number" ng-model="default.destination_number">
						</div>
					</div>

					<div class="col-sm-3">
						<div class="form-group" ng-class="{ 'has-error' : defaultForm.timezone.$invalid }">
							<label class="control-label">Time zone</label>
							<input required name="timezone" typeahead-editable="false" typeahead-focus-on-select="true" typeahead-select-on-exact="true" typeahead-on-select="onSelectTimeZone" type="text" class="form-control"  placeholder="Time zone" ng-model="default.fs_timezone"  typeahead="zone as zone.name for zone in timeZones | filter:{name:$viewValue}" >
						</div>
					</div>
					<div class="col-sm-1">
						<div class="form-group" >
							<label class="control-label">Disabled</label>
							<label style="width: 100%;" class="switch switch-danger"><input type="checkbox" ng-model="default.disabled"><i></i></label>
						</div>
					</div>

					<div class="form-group" >

					</div>

            	</div>

            </div>

			<div class="row">
				<div class="col-md-12">
					<div class="ui-tab-container ui-tab-dark">
					<div class="ui-tab">
						<tabset>
							<tab>
								<tab-heading>
									<span>Callflow</span>
								</tab-heading>
								<div class="form-group">
									<div ng-model="$parent.cf" ui-ace="{
									  useWrapMode : true,
									  showGutter: true,
									  theme:'github',
									  mode: 'json',
									  onLoad: aceLoaded,
									  onChange: aceChanged,
									  require: ['ace/ext/language_tools'],
									  advanced: {
										  enableSnippets: true,
										  enableBasicAutocompletion: true,
										  enableLiveAutocompletion: true
									  }
									}" class="json-control">

									</div>
								</div>
							</tab>

							<tab>
								<tab-heading>
									<span>On disconnect</span>
								</tab-heading>
								<div class="form-group">
									<div data-ng-model="$parent.cfOnDisconnect" ui-ace="{
									  useWrapMode : true,
									  showGutter: true,
									  theme:'github',
									  mode: 'json',
									  onLoad: aceLoaded,
									  onChange: aceChanged,
									  require: ['ace/ext/language_tools'],
									  advanced: {
										  enableSnippets: true,
										  enableBasicAutocompletion: true,
										  enableLiveAutocompletion: true
									  }
									}" class="json-control">

									</div>
								</div>
							</tab>
						</tabset>
					</div>
				</div>
				</div>
			</div>

        </div>

        <div class="panel-footer">
            <button ng-show="isEdit" type="button" ng-disabled="defaultForm.$invalid" ng-click="save()" class="btn btn-w-md btn-gap-v btn-success">Save</button>
            <button ng-show="isEdit && !isNew"  ng-click="cancel()" type="button" class="btn btn-w-md btn-gap-v btn-primary">Cancel</button>
            <button  type="button" ng-click="closePage()" class="btn btn-w-md btn-gap-v btn-default">Close</button>
        </div>
    </form>
</div>